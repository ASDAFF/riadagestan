!function(){window.RS=window.RS||{};var e=$(document);RS.Options={ajaxLoad:{defaultParams:{data:{isAjax:"Y"}}},lazyLoadImagesSelctor:".is-lazy-img",lazyLoadSectionSelector:".js-lazyload-section"},RS.Utils={callFunctionByName:function(e,t,a){var i=Array.prototype.slice.call(arguments,3),o=e.split("."),n=o.pop();t=t||window;for(var s=0;s<o.length;s++)t=t[o[s]];return t[n].apply(a,i)},callFunctions:function(e,t,a){var i=Array.prototype.slice.call(arguments,3);e.forEach(function(e){RS.Utils.callFunctionByName.apply({},BX.util.array_merge([e,t,a],i))})},lazyLoadImages:function(e){e.Lazy({effect:"fadeIn",effectTime:500})},lazyLoadSection:function(e){e.each(function(){var e=$(this);e.hasClass("is-wait-loading")&&e.find(".is-lazy").lazy({bind:"event",delay:0,onFinishedAll:function(){var t=e.find(".js-lazyload-section__preload"),a=e.find(".js-lazyload-section__container");a.css({opacity:0,display:"block"}).velocity("stop").velocity("transition.fadeIn",{duration:1e3,begin:function(){$.fn.owlCarousel&&a.find("[data-slider]").owlCarousel("invalidate","width").owlCarousel("refresh")}}),t.velocity("stop").velocity("transition.fadeOut",{duration:1500,delay:0,complete:function(){e.removeClass("is-wait-loading")}}),window.jarallax&&e.find(".js-lazyload-section__parallax").length>0&&jarallax(e.find(".js-lazyload-section__parallax").get(0),{speed:.2})}})})}},RS.Animations={slideUpElements:function(e){var t=$.Deferred(),a=e.css("display");return console.log(a),e.hide().velocity("stop").velocity("transition.slideUpIn",{stagger:100,duration:500,display:a,complete:function(){t.resolve()}}),t.promise()},slideUpInElements:function(e){var t=$.Deferred();return e.hide().css("opacity",0).velocity("stop").velocity("transition.slideUpIn",{stagger:100,duration:500,complete:function(){t.resolve()}}),t.promise()}},RS.Handlers={appendSectionItems:function(e,t){var t=BX.parseJSON(t);e.itemsBlockId&&((t||{}).content||{}).items&&$("#"+e.itemsBlockId).append(t.content.items)},replaceSectionItems:function(e,t){var t=BX.parseJSON(t);e.itemsBlockId&&((t||{}).content||{}).items&&$("#"+e.itemsBlockId).html(t.content.items)},showSectionItems:function(e,t){var a=$("#"+e.itemsBlockId).find("> .row:last-child");a.length>0&&(RS.Animations.slideUpElements(a.find(e.itemSelector||".js-item")),RS.Utils.lazyLoadImages(a.find(RS.Options.lazyLoadImagesSelctor)))},updateSectionNavigation:function(e,t){var t=BX.parseJSON(t);e.loadMoreBlockId&&((t||{}).content||{}).loadMore&&$("#"+e.loadMoreBlockId).replaceWith(t.content.loadMore),e.ajaxNavBlockId&&((t||{}).content||{}).ajaxNavigation&&$("#"+e.ajaxNavBlockId).html(t.content.ajaxNavigation),window.history&&t.navParams&&(navUriParams={},navUriParams[t.navParams.navParamNomer]=t.navParams.currentPage,window.history.pushState({},"",BX.util.add_url_param(window.location.href,navUriParams)))},startSectionLoading:function(e){this.id==e.loadMoreBlockId?$(this).addClass("is-loading"):($("#"+e.itemsBlockId).css({"min-height":$("#"+e.itemsBlockId).height()+"px"}),$("#"+e.itemsBlockId).addClass("is-loading"))},stopSectionLoading:function(e){this.id==e.loadMoreBlockId?$(this).removeClass("is-loading"):($("#"+e.itemsBlockId).removeClass("is-loading"),setTimeout(function(){$("#"+e.itemsBlockId).removeAttr("style")},250))}},e.ready(function(){var t=$("#wrapper");$("[data-use-custom-scrollbar]").mCustomScrollbar({autoHideScrollbar:!0});var a=function(){$(".js-side-aside").addClass("is-open"),t.addClass("has-overlay"),t.one("click",function(){i()})},i=function(){$(".js-side-aside").removeClass("is-open"),t.removeClass("has-overlay")};e.on("click",".js-sa-toggle",function(e){e.preventDefault(),$(".js-side-aside").hasClass("is-open")?i():a()}),e.on("click",".js-sa-open",function(e){e.preventDefault(),a()}),e.on("click",".js-sa-close",function(e){e.preventDefault(),i()});var o=$("#sticky-header"),n=o.offset().top,s=function(){e.scrollTop()>n?o.addClass("is-sticky"):o.removeClass("is-sticky")};o.css({height:o.children().outerHeight()}),$(window).resize(BX.debounce(function(){o.css({height:o.children().outerHeight()})},250)),o.addClass("is-sticky-ready"),s(),e.scroll(s),$(".sticky-content").each(function(){$(this).children(".l-page__sidebar, .col-lg-4").each(function(){var e,t=0;$(this).wrapInner('<div style="padding-bottom: 1px; position: sticky; top: 0px;"></div>'),e=$(this).children().eq(0),Stickyfill.add(e.get(0)),(t=e.height())>$(window).outerHeight()&&e.css("top",$(window).outerHeight()-t),window.ResizeSensor&&window.ResizeSensor(this,function(){(t=e.height())>$(window).outerHeight()&&e.css("top",$(window).outerHeight()-t)})})}),RS.Slider&&(window.RS.sliders=[],$("[data-slider=true]").each(function(e,t){var a=$(t).data("slider-name")||"slider_"+Object.keys(window.RS.sliders).length+1,i=new RS.Slider(a,this);i.init(),window.RS.sliders[a]=i}));var l=!1,r={},c=function(e,t){var a,i,o;return i=JSON.stringify(t.data||{}),o=i+e,t.useCache&&r[o]?$.Deferred(function(e){e.resolve(r[o])}).promise():(a={},a.url=e,t.method&&(a.method=t.method),a.data=t.data,$.ajax(a).then(function(e){return t.useCache&&(r[o]=e),e}))},d=function(e){var t,a,i;return a=e.getAttribute("href"),t=BX.type.isPlainObject(e.getAttribute("data-ajax-load"))?e.getAttribute("data-ajax-load"):BX.parseJSON(e.getAttribute("data-ajax-load")),BX.merge(t,RS.Options.ajaxLoad.defaultParams),i=BX.merge(t.callbacks,{before:[],success:[],after:[]}),RS.Utils.callFunctions(i.before,window,e,t),c(a,t).done(function(a){return RS.Utils.callFunctions(i.success,window,e,t,a),a}).always(function(a){return RS.Utils.callFunctions(i.after,window,e,t),setTimeout(function(){l=!1},300),a})};e.on("click","[data-ajax-load]",function(e){e.preventDefault(),l||(l=!0,d(this).done(function(){l=!0}))});var u=function(){$("[data-infinite-scroll]:not(.js-infinite-scroll)").addClass("js-infinite-scroll").viewportChecker({repeat:!0,offset:60,callbackFunction:function(e,t){l||"add"!=t||(l=!0,d(e.get(0)).done(function(){setTimeout(function(){l=!1,u()},1e3)}))}})};u(),RS.Utils.lazyLoadImages($(RS.Options.lazyLoadImagesSelctor)),RS.Utils.lazyLoadSection($(RS.Options.lazyLoadSectionSelector))})}();